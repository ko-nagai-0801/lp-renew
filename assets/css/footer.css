/**
 * フッター スタイル（BEM／ナビ下線アニメ）
 * assets/css/footer.css
 *
 * @package LP_WP_Theme
 * @since 1.0.0
 *
 * 更新履歴:
 * - 1.1.3 (2025-09-05): 下線アニメの共通化（疑似要素を一括定義＆CSS変数で微調整）。重複記述を削除。
 * - 1.1.2 (2025-09-05): 下線アニメを width 方式に統一。フォントサイズ指定削除・整理。
 * - 1.1.1 (2025-09-05): transform→width 方式へ変更。
 * - 1.1.0 (2025-09-05): .footer__nav-title / .footer__nav-link のホバー下線アニメ追加。
 */

/* =============================================================
   0. 背景イメージと基礎レイアウト
   ========================================================== */
.footer {
  position: relative;
  padding-bottom: 50px;
  color: var(--f-white);

  /* 背景のデフォルト（PHPの inline style で上書き可） */
  --footer-image: url("../img/footer-bg.webp");
  --footer-pos: center bottom;
  --mask-angle: to top;
  --mask-0: 0.68;
  --mask-1: 0.45;
  --mask-2: 0.1;

  /* 下線アニメ用のスコープ変数（高さ/オフセット） */
  --ul-h: 2px;
  --ul-offset: -2px;

  background: linear-gradient(
      var(--mask-angle),
      rgba(0, 0, 0, var(--mask-0)) 0%,
      rgba(0, 0, 0, var(--mask-1)) 40%,
      rgba(0, 0, 0, var(--mask-2)) 100%
    ),
    var(--footer-image) no-repeat var(--footer-pos) / cover;
}

/* 明るい写真用の強めマスク */
.footer.is-bright {
  --mask-0: 0.78;
  --mask-1: 0.55;
  --mask-2: 0.2;
}

/* =============================================================
   1. インナーラッパー
   ========================================================== */
.footer__inner {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 0 auto;
  font-size: clamp(0.875rem, 1.5vw, 1.5rem);
}
@media (max-width: 991px) {
  .footer__inner {
    flex-direction: column;
  }
}

/* =============================================================
   2. 住所・ロゴ・SNS
   ========================================================== */
.footer__company {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding-inline: 1.5rem;
}

/* ロゴ */
.footer__logo {
  width: 250px;
  height: auto;
  margin: 0 auto;
}
.footer__logo img {
  max-width: 100%;
  height: auto;
  vertical-align: bottom;
}

/* 住所ラッパー */
.footer__company-group {
  display: grid;
  row-gap: 0.25rem;
}
@media (max-width: 991px) {
  .footer__company-group {
    margin: 0 auto;
    width: fit-content;
    max-width: 100%;
    align-self: center;
  }
  .footer__company-group .footer__company-item {
    text-align: left;
  }
}

/* 住所テキスト */
.footer__address {
  margin: 0;
  padding: 1rem 0;
}

/* メール・電話 */
.footer__mail,
.footer__phone {
  font-size: clamp(0.875rem, 1.5vw, 1.5rem);
  color: var(--f-white);
  margin: 0;
  padding: 0.25rem 0;
}
.footer__mail a,
.footer__phone a {
  color: var(--f-white);
  text-decoration: none;
}

/* 受付時間 */
.footer__time {
  margin: 0;
  font-feature-settings: "palt";
}

/* SNS */
.footer__company-item-sns {
  margin: 0 auto;
}
.footer__sns-list {
  display: flex;
  justify-content: flex-start;
  gap: 1.5rem;
  margin: 0;
  padding-block: 1rem;
  padding-inline: 0;
  list-style: none;
}
.footer__sns-item img {
  width: 5vw;
  min-width: 48px;
  max-width: 56px;
}

/* =============================================================
   3. ナビゲーション
   ========================================================== */
.footer__nav {
  width: 65%;
  padding-inline: 1.5rem;
}
@media (max-width: 991px) {
  .footer__nav {
    width: 100%;
    padding-bottom: 1.5rem;
  }
}
.footer__nav-list {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  list-style: none;
  padding: 0;
  margin: 0;
  margin-top: 3rem;
}
.footer__nav-item {
  flex: 0 0 33.33%;
  aspect-ratio: 1 / 0.5;
  position: relative;
}
.footer__nav-item a {
  color: var(--f-white);
}

@media (max-width: 576px) {
  .footer__nav-list {
    flex-direction: column;
    margin-top: 1rem;
  }
  .footer__nav-item {
    flex: 0 0 50%;
    aspect-ratio: auto;
    padding-block: 0.25rem;
  }
}

.footer__service-nav-list {
  padding: 0.5rem 0 1rem 1.5rem;
}
.footer__service-nav-item {
  padding-block: 0.25rem;
}

.footer__nav-link:first-of-type {
  margin-bottom: 16px;
}
.footer__nav-item:nth-of-type(2) .footer__nav-title {
  margin-bottom: 16px;
}
@media (max-width: 576px) {
.footer__nav-link:first-of-type {
  margin-bottom: 0;
}
.footer__nav-item:nth-of-type(2) .footer__nav-title {
  margin-bottom: 0;
}
}

/* =============================================================
   4. コピーライト
   ========================================================== */
.footer__copyright {
  width: 100%;
  text-align: center;
  font-size: clamp(0.875rem, 1vw, 1.2rem);
  padding: 15px 0;
  background: #110d0d;
  color: #fff;
  position: absolute;
  bottom: 0;
  left: 0;
  z-index: 2;
}

/* =============================================================
   A. Underline Animations (共通ベース)
   ========================================================== */

/* 1) 下線アニメのベース（nav・子nav・mail・phone すべて共通） */
.footer__nav-title,
.footer__nav-link,
.footer__mail a,
.footer__phone a {
  position: relative;
  display: inline-block; /* 擬似要素の幅計測 */
  text-decoration: none;
}
.footer__nav-title::after,
.footer__nav-link::after,
.footer__mail a::after,
.footer__phone a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: var(--ul-offset); /* 既定は -2px（.footer で定義） */
  height: var(--ul-h); /* 既定は 2px（.footer で定義） */
  width: 0; /* 0 → 100% に伸ばす */
  background: currentColor; /* 文字色に追従 */
  transition: width 0.35s ease;
}
.footer__nav-title:hover::after,
.footer__nav-title:focus-visible::after,
.footer__nav-title:active::after,
.footer__nav-link:hover::after,
.footer__nav-link:focus-visible::after,
.footer__nav-link:active::after,
.footer__mail a:hover::after,
.footer__mail a:focus-visible::after,
.footer__mail a:active::after,
.footer__phone a:hover::after,
.footer__phone a:focus-visible::after,
.footer__phone a:active::after {
  width: 100%;
}

/* 2) mail / phone はベースライン合わせでオフセットを上書き */
.footer__mail a,
.footer__phone a {
  --ul-offset: 0px;
}

/* 3) ユーザー設定（低モーション・タッチ考慮） */
@media (prefers-reduced-motion: reduce) {
  .footer__nav-title::after,
  .footer__nav-link::after,
  .footer__mail a::after,
  .footer__phone a::after {
    transition: none;
  }
}
